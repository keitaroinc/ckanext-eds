<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% resource 'eds/layout.js' %}
{% resource 'eds/cookie-notice.js' %}
{% resource 'eds/language_settings.js' %}
{% ckan_extends %}

{% block content %}
{% block maintag %}
<div role="main">{% endblock %}
    <div id="content" class="container-fluid">
        {% block main_content %}
        {% block toolbar %}{{ super() }}{% endblock %}

        <div class="row wrapper{% block wrapper_class %}{% endblock %}{% if self.secondary()|trim == '' %} no-nav{% endif %}">

            {% block flash %}
            <div class="{% if c.action=='resource_extractor_show' or c.action=='resource_read' %} col-md-10 col-md-offset-1 {% else %} col-md-12 {% endif %}">
                {{ super() }}
            </div>
            {% endblock %}

            <div class="col-md-10 col-md-offset-1">
                {% block pre_primary %} {{ super() }} {% endblock %}
            </div>

            {% if c.action=='resource_extractor_show' or c.action=='resource_read' %}
        </div>
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="row">
                    {% endif %}

                    {% block secondary %}
                    <aside class="col-md-3">
                        {% block secondary_content %} {{ super() }} {% endblock %}
                    </aside>
                    {% endblock %}

                    {% block primary %}
                    <div class="col-md-9 {% if self.secondary()|trim == '' %} col-md-offset-3{% endif %}">
                        {% block primary_content %} {{ super() }} {% endblock %}
                    </div>
                    {% endblock %}

                    {% if c.action=='resource_extractor_show' or c.action=='resource_read' %}
                </div>
            </div>
            {% endif %}
        </div>
        {% endblock %}        
    </div>
</div>
{% endblock %}